<Window x:Class="SDBS3000.Views.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SDBS3000.Views"
        xmlns:cvt="clr-namespace:SDBS3000.Utils.Converters"
        xmlns:loc="clr-namespace:SDBS3000.Resources"
        xmlns:i ="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:uc="clr-namespace:SDBS3000.Views"
        mc:Ignorable="d" Width="1920" Height="1080"
        Title="Main" 
        DataContext="{Binding Source={StaticResource Locator},Path=Main}"
        WindowStyle="None" Background="Transparent" AllowsTransparency="False" ResizeMode="CanResize" WindowState="Maximized">
    <Window.Resources>
        <RoutedUICommand x:Key="F1" Text="打开帮助文档"/>
        <RoutedUICommand x:Key="F2" Text="菜单扩展"/>
        <RoutedUICommand x:Key="F3" Text="加去重"/>
        <RoutedUICommand x:Key="F4" Text="电补偿"/>
        <RoutedUICommand x:Key="F10" Text="平面一"/>
        <RoutedUICommand x:Key="F11" Text="平面二"/>
        <RoutedUICommand x:Key="F12" Text="静"/>

        <RoutedUICommand x:Key="KaiShi" Text="开始测量"/>
        <RoutedUICommand x:Key="TingZhi" Text="停止"/>
        <RoutedUICommand x:Key="BiaoDing" Text="标定"/>
        <RoutedUICommand x:Key="ZhuanZi" Text="转子设置"/>
        <RoutedUICommand x:Key="JiQi" Text="机器设置"/>
        <RoutedUICommand x:Key="JiaJu" Text="夹具设置"/>
        <RoutedUICommand x:Key="Jian" Text="键补偿"/>
        <RoutedUICommand x:Key="DingWai" Text="定位"/>
        <RoutedUICommand x:Key="YongHu" Text="用户管理"/>
        <RoutedUICommand x:Key="DaYin" Text="打印"/>
        <RoutedUICommand x:Key="JiLu" Text="记录"/>
        <RoutedUICommand x:Key="BaoJin" Text="报警"/>
        <RoutedUICommand x:Key="TuiChu" Text="退出"/>
    </Window.Resources>
    <Window.InputBindings>
        <KeyBinding Modifiers="Ctrl" Key="F1" Command="{StaticResource F1}" />
        <KeyBinding Modifiers="Ctrl" Key="F2" Command="{StaticResource F2}" />
        <KeyBinding Modifiers="Ctrl" Key="F3" Command="{StaticResource F3}" />
        <KeyBinding Modifiers="Ctrl" Key="F4" Command="{StaticResource F4}" />
        <KeyBinding Modifiers="Ctrl" Key="F10" Command="{StaticResource F10}" />
        <KeyBinding Modifiers="Ctrl" Key="F11" Command="{StaticResource F11}" />
        <KeyBinding Modifiers="Ctrl" Key="F12" Command="{StaticResource F12}" />
        <!--BtmTool内容-->
        <KeyBinding Modifiers="Ctrl" Key="B" Command="{StaticResource KaiShi}" />
        <KeyBinding Modifiers="Ctrl" Key="T" Command="{StaticResource TingZhi}" />
        <KeyBinding Modifiers="Ctrl" Key="G" Command="{StaticResource BiaoDing}" />
        <KeyBinding Modifiers="Ctrl" Key="Z" Command="{StaticResource ZhuanZi}"/>
        <KeyBinding Modifiers="Ctrl" Key="M" Command="{StaticResource JiQi}"/>
        <KeyBinding Modifiers="Ctrl" Key="J" Command="{StaticResource JiaJu}"/>
        <KeyBinding Modifiers="Ctrl" Key="K" Command="{StaticResource Jian}"/>
        <KeyBinding Modifiers="Ctrl" Key="L" Command="{StaticResource DingWai}"/>
        <KeyBinding Modifiers="Ctrl" Key="U" Command="{StaticResource YongHu}"/>
        <KeyBinding Modifiers="Ctrl" Key="P" Command="{StaticResource DaYin}"/>
        <KeyBinding Modifiers="Ctrl" Key="R" Command="{StaticResource JiLu}"/>
        <KeyBinding Modifiers="Ctrl" Key="W" Command="{StaticResource BaoJin}"/>
        <KeyBinding Modifiers="Ctrl" Key="E" Command="{StaticResource TuiChu}"/>
    </Window.InputBindings>
    <Window.CommandBindings>
        <CommandBinding Command="{StaticResource F1}" Executed="CommandBinding_Executed"/>
        <CommandBinding Command="{StaticResource F2}" Executed="CommandBinding_Executed_1"/>
        <CommandBinding Command="{StaticResource F3}" Executed="CommandBinding_Executed_2"/>
        <CommandBinding Command="{StaticResource F4}" Executed="CommandBinding_Executed_3"/>
        <CommandBinding Command="{StaticResource F10}" Executed="CommandBinding_Executed_4"/>
        <CommandBinding Command="{StaticResource F11}" Executed="CommandBinding_Executed_5"/>
        <CommandBinding Command="{StaticResource F12}" Executed="CommandBinding_Executed_6"/>
        <!--BtmTool内容-->
        <CommandBinding Command="{StaticResource KaiShi}" Executed="CmdBinding_Executed_KaiShi"/>
        <CommandBinding Command="{StaticResource TingZhi}" Executed="CmdBinding_Executed_TingZhi"/>
        <CommandBinding Command="{StaticResource BiaoDing}" Executed="CmdBinding_Executed_BiaoDing"/>
        <CommandBinding Command="{StaticResource ZhuanZi}" Executed="CmdBinding_Executed_ZhuanZi"/>
        <CommandBinding Command="{StaticResource JiQi}" Executed="CmdBinding_Executed_JiQi"/>
        <CommandBinding Command="{StaticResource JiaJu}" Executed="CmdBinding_Executed_JiaJu"/>
        <CommandBinding Command="{StaticResource Jian}" Executed="CmdBinding_Executed_Jian"/>
        <CommandBinding Command="{StaticResource DingWai}" Executed="CmdBinding_Executed_DingWai"/>
        <CommandBinding Command="{StaticResource YongHu}" Executed="CmdBinding_Executed_YongHu"/>
        <CommandBinding Command="{StaticResource DaYin}" Executed="CmdBinding_Executed_DaYin"/>
        <CommandBinding Command="{StaticResource JiLu}" Executed="CmdBinding_Executed_JiLu"/>
        <CommandBinding Command="{StaticResource BaoJin}" Executed="CmdBinding_Executed_BaoJin"/>
        <CommandBinding Command="{StaticResource TuiChu}" Executed="CmdBinding_Executed_TuiChu"/>
    </Window.CommandBindings>
    <Window.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded" SourceName="u"/>
    </Window.Triggers>
    <Viewbox Stretch="Fill">
        <Grid Background="{DynamicResource mainbg}" Width="1920" Height="1080">
            <Grid.Resources>
                <Style TargetType="Grid" x:Key="mingrid">
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="Yellow" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Grid.Resources>
            <Grid.RowDefinitions>
                <RowDefinition Height="80*"/>
                <RowDefinition Height="880*"/>
                <RowDefinition Height="120*"/>
            </Grid.RowDefinitions>

            <Button  Click="Button_Click" Background="Transparent" Panel.ZIndex="3" Width="40" Height="40" HorizontalAlignment="Right" Margin="0,0,10,20">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="Gray"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
                <Path Data="{StaticResource min}"  Stretch="Uniform" Width="28" Height="35">
                    <Path.Fill>
                        <SolidColorBrush x:Name="pathFill" Color="Black"/>
                    </Path.Fill>
                </Path>
            </Button>

         
            <Grid x:Name="top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="288*"/>
                    <ColumnDefinition Width="1347*"/>
                    <ColumnDefinition Width="284*"/>
                </Grid.ColumnDefinitions>
                <Grid x:Name="measuretop" Visibility="Visible" Background="{DynamicResource dbk}" Margin="0,0,240,-20" Grid.ColumnSpan="2" Grid.Column="1" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="580"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="580"/>
                    </Grid.ColumnDefinitions>
                    <WrapPanel HorizontalAlignment="Center" Grid.ColumnSpan="3" Margin="0,0,0,0">
                        <Label Foreground="{DynamicResource measurezs}" Content="{Binding Speed,FallbackValue=0}" FontSize="60"/>
                        <Label Foreground="{DynamicResource measurezs}" Content="r/min" FontSize="40" Margin="0,5,0,0" VerticalContentAlignment="Center"/>
                    </WrapPanel>
                </Grid>
                <Image Source="{DynamicResource logoPath}" Stretch="Uniform" Margin="10"/>
                <Menu Grid.Column="1" Background="Transparent" Panel.ZIndex="2">
                    <Menu.Resources>
                        <Style TargetType="MenuItem">
                            <Setter Property="Height" Value="{Binding ElementName=top,Path=ActualHeight}"/>
                            <Setter Property="Width" Value="auto"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="MinWidth" Value="170"/>
                            <Setter Property="FontSize" Value="20"/>
                            <Setter Property="Foreground" Value="{DynamicResource txtColor1}"/>
                            <Setter Property="HorizontalAlignment" Value="Left"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="FontFamily" Value="{StaticResource WriteBrush1}"/>
                            <Setter Property="BorderBrush" Value="#FF26A0DA"/>
                            <Setter Property="BorderThickness" Value="0.7,0,0.7,0"/> 
                            <Setter Property="Effect" Value="{StaticResource menumaineffect}"/>
                        </Style>
                    </Menu.Resources>
                    <MenuItem x:Name="cd" Header="{Binding [Menu], Source={x:Static loc:LanguageManager.Instance}}" Template="{DynamicResource Menu_SubMenu_Template}" Padding="15,0,0,0">
                        <MenuItem x:Name="b" Header="{Binding [Lan], Source={x:Static loc:LanguageManager.Instance}}" Style="{DynamicResource MenuSub}">
                            <MenuItem.Icon>
                                <Path Data="{DynamicResource lanicon}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                            </MenuItem.Icon>
                            <MenuItem Header="中文" Style="{DynamicResource MenuSub}" Command="{Binding Lan}" 
                                  CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self},Path=Header}">
                                <MenuItem.Icon>
                                    <Path Data="{StaticResource chiicon}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem Header="English" Style="{StaticResource MenuSub}" Command="{Binding Lan}"
                                  CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self},Path=Header}">
                                <MenuItem.Icon>
                                    <Path Data="{StaticResource engicon}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                                </MenuItem.Icon>
                            </MenuItem>
                        </MenuItem>
                        <MenuItem Header="主题颜色" Style="{DynamicResource  MenuSub}">
                            <MenuItem.Icon>
                                <Path Data="{DynamicResource threm}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                            </MenuItem.Icon>
                            <MenuItem Header="深色" Style="{DynamicResource MenuSub}" Click="MenuItem_Click1" >
                                <MenuItem.Icon>
                                    <Path Data="{DynamicResource white1}" Stretch="Uniform" Fill="#13227a"/>
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem Header="浅色" Style="{DynamicResource MenuSub}" Click="MenuItem_Click" >
                                <MenuItem.Icon>
                                    <Path Data="{DynamicResource white1}" Stretch="Uniform" Fill="white"/>
                                </MenuItem.Icon>
                            </MenuItem>

                        </MenuItem>
                        <MenuItem Header="{Binding [Secretkey], Source={x:Static loc:LanguageManager.Instance}}" Command="{Binding Auth}" Style="{StaticResource MenuSub}">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource miyao}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="{Binding [BatchPS],Source={x:Static loc:LanguageManager.Instance}}" Command="{Binding Drilling}" Style="{StaticResource MenuSub}">
                            <!--<MenuItem.Icon>
                                <Path Data="{StaticResource miyao}" Stretch="Uniform" Fill="White"/>
                            </MenuItem.Icon>-->
                        </MenuItem>
                    </MenuItem>
                    <MenuItem x:Name="jqz" Header="{Binding [Addremoveweight], Source={x:Static loc:LanguageManager.Instance}}" Template="{DynamicResource Menu_SubMenu_Template}">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource lanicon}" Stretch="Uniform" Fill="{DynamicResource txtColor1}"/>
                        </MenuItem.Icon>
                        <MenuItem x:Name="pmy" Header="{Binding Pm1jqz}" Style="{StaticResource MenuSub}" IsChecked="{Binding Cut1,Mode=TwoWay}"  IsCheckable="True" StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image Source="{DynamicResource Addtf}" Stretch="Fill"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem x:Name="pme" Header="{Binding Pm2jqz}" Style="{StaticResource MenuSub}" IsChecked="{Binding Cut2,Mode=TwoWay}"  IsCheckable="True" StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image Source="{DynamicResource Addtf}" Stretch="Fill"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem  x:Name="jjz" Header="{Binding Jjqz}" IsChecked="{Binding Cut0,Mode=TwoWay}" Style="{StaticResource MenuSub}" IsCheckable="True" StaysOpenOnClick="True">
                            <MenuItem.Icon>
                                <Image Source="{DynamicResource Addtf}" Stretch="Fill"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem x:Name="dbc"  Margin="660,0,0,0" Header="{Binding [Electricalcomp], Source={x:Static loc:LanguageManager.Instance}}" IsChecked="{Binding Compesation,Mode=TwoWay}" Template="{DynamicResource Menu_SubMenu_Template}" IsCheckable="True"/>
                    <MenuItem Header="{Binding [Help], Source={x:Static loc:LanguageManager.Instance}}" x:Name="help" Template="{DynamicResource Menu_SubMenu_Template}" Command="{Binding Help}"/>
                </Menu>
                 <Grid  Panel.ZIndex="2" HorizontalAlignment="Right" Width="284" Grid.Column="2">
                    <!--<Label  Content="{Binding [Version], Source={x:Static loc:LanguageManager.Instance}}" FontSize="20" Foreground="{DynamicResource txtColor1}"  />-->
                    <Label x:Name="time" Content="{Binding TimeLabel,Mode=OneWay}" Foreground="{DynamicResource txtColor1}" FontSize="30" Padding="73,10,0,0"/>
                    <Label x:Name="date" Content="{Binding DateLabel}" Foreground="{DynamicResource txtColor1}" FontSize="24" Padding="73,44,0,0"/>
                </Grid>

            </Grid>


            <Frame x:Name="frame" JournalOwnership="OwnsJournal" Source="{Binding CurPage,FallbackValue=PageHorTwo.xaml,Mode=TwoWay}" NavigationUIVisibility="Hidden" Margin="0,70,0,0" Grid.RowSpan="2"/>

            <UniformGrid x:Name="u" Grid.Row="2" Rows="1" ButtonBase.Click="U_Click" Focusable="True">
                <UniformGrid.Resources>
                    <cvt:ToolCheckState x:Key="checkstate"/>
                    <RadialGradientBrush x:Key="warn">
                        <GradientStop Offset="0" Color="#11FF0707"/>
                        <GradientStop Offset="1" Color="#11FF0707"/>
                    </RadialGradientBrush>
                    <Style TargetType="Label">
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="Foreground" Value="{DynamicResource txtColor1}"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="FontSize" Value="18"/>
                        <Setter Property="Margin" Value="0,82,0,0"/>
                    </Style>
                    <Style x:Name="b_btm" TargetType="{x:Type Button}">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="{DynamicResource txtColor1}"/>
                        <Setter Property="FontSize" Value="18"/>
                        <Setter Property="Height" Value="120"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type Button}">
                                    <Border x:Name="border" Background="{TemplateBinding Background}">
                                        <Grid>
                                            <ContentPresenter x:Name="ct" Margin="0,85,0,13" HorizontalAlignment="Center" RecognizesAccessKey="True"/>
                                            <!--<Image Source="/Image/measure/开始（未选中）.png" Stretch="None" Margin="0,0,0,10"/>-->
                                            <Image x:Name="img" Source="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Button},Path=Tag,Mode=TwoWay}" Margin="0,0,0,14" Stretch="None"/>
                                        </Grid>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter TargetName="border" Property="Background">
                                                <Setter.Value>
                                                    <ImageBrush ImageSource="/SDBS3000;component/Utils/Image/Measure/按钮选中背景.png"/>
                                                </Setter.Value>
                                            </Setter>
                                            <Setter TargetName="img" Property="Source" Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Button},Path=Tag,Mode=TwoWay,Converter={StaticResource checkstate}}"/>
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="border" Property="Background">
                                                <Setter.Value>
                                                    <ImageBrush ImageSource="/SDBS3000;component/Utils/Image/Measure/按钮选中背景.png"/>
                                                </Setter.Value>
                                            </Setter>
                                            <Setter TargetName="img" Property="Source" Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=Button},Path=Tag,Mode=TwoWay,Converter={StaticResource checkstate}}"/>
                                        </Trigger>
                                        <Trigger Property="IsEnabled" Value="false">
                                            <Setter  Property="Foreground" Value="Gray"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </UniformGrid.Resources>
                <UniformGrid.Background>
                    <ImageBrush ImageSource="{DynamicResource toolBarBg}"/>
                </UniformGrid.Background>
                <Button Name="TStart"  Content="{Binding [TStart], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/开始（未选中）.png"/>
                <Button Name="TStop" Content="{Binding [TStop], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/暂停（未选中）.png"/>
                <Button Name="TCal" Content="{Binding [TCal], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/标定（未选中）.png"/>
                <Button Name="TRotorSet" Content="{Binding [TRotorSet], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/转子设置（未选中）.png"/>
                <Button Name="TMachSet" Content="{Binding [TMachSet], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/机器设置（未选中）.png"/>
                <Button Name="TSingleStep" Content="{Binding [stepthrough], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/单步（未选中）.png"/>
                <Button Name="TClampComp" Content="{Binding [TClampComp], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/夹具补偿（未选中）.png"/>
                <Button Name="TKeyComp" Content="{Binding [TKeyComp], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/键补偿（未选中）.png" Visibility="Collapsed"/>
                <Button Name="TPositioning" Content="{Binding [TPositioning], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/定位（未选中）.png"/>
                <Button Name="TUserMgt" Content="{Binding [TUserMgt], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/用户管理（未选中）.png"/>
                <Button Name="TPrint" Content="{Binding [TPrint], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/打印（未选中）.png" Visibility="Collapsed"/>
                <Button Name="TRecord" Content="{Binding [TRecord], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/记录（未选中）.png"/>
                <Button Name="TAlarm" Content="{Binding [TAlarm], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/报警（未选中）.png" />
                <Button Name="TExit" Content="{Binding [TExit], Source={x:Static loc:LanguageManager.Instance}}" Tag="/Utils/Image/measure/退出（未选中）.png"/>
            </UniformGrid>
        </Grid>
    </Viewbox>
</Window>
